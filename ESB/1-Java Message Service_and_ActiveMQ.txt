
1. Java Message Service. ActiveMQ.

Общие понятия (брокер, очередь, топик, сообщение). 2 ч.

Режимы получения сообщений:  
Session.SESSION_TRANSACTED,  
Session.AUTO_ACKNOWLEDGE,  
Session.DUPS_OK_ACK,  
Session.CLIENT_ACKNOWLEDGE.  

Персистентные и неперсистентные сообщения. 2-3 ч.  
Embedded Broker. Запуск, настройка. VM-connector. 2 ч.  
Плагины для брокера. Подключение плагина к Embedded брокеру. Обзор плагина авторизации. 1 ч. 

----------------------------------------------------------------------------
Ресурсы 
https://jsehelper.blogspot.com/2016/12/jms.html
----------------------------------------------------------------------------
      Общие понятия

Сообщение - информация, минимального размера, которая передается от отправителя получателю
Брокер - сервис, который получет, при необходимости модифицирует и отправляет сообщения 
Очередь - очередь, в которую поступают сообщения от отправителя и вычитываются получателем.
          Работает по принципу FIFO.
Топик - многоадресная рассылка для подписанных на эту рассылку получателей          
Канал - связь между отправителем и получателем, при отправке сообщений. 
        При доставке сообщений от отправителя к получателю сообщение может проходить несколько каналов. 
Маршрутизатор - программный компонент, куда отправитель посылает сообщение, 
          который определяет канал куда отправить поступившее сообщение
Конечная точка - необходимый код, который интегрирован в систему обмена сообщениями, 
           которому отправитель передает сообщение.       
Сессия - контекст потока, в котором осуществляется передача сообщения           

           Модели подтверждения получения сообщения 
           
Session.SESSION_TRANSACTED - передача сообщений в режиме транзакций 
      (можно сделать commit, rollback).
      (If a Session is transacted, the acknowledgement mode is ignored)

Session.AUTO_ACKNOWLEDGE - в случае синхронного получения сообщений, 
      подтверждение получения будет произведено автоматически, когда метод receive() 
      возвратит значение не вызвав никакой исключительной ситуации. 
      В случае асинхронного получения сообщений,
      подтверждение получения будет произведено когда метод onMessage() вернет значение.

Session.DUPS_OK_ACK - работа по подтверждению получения сообщения перекладывается на Session. 
      Сообщения будут вновь доставлены в случае возникновения ошибки.

Session.CLIENT_ACKNOWLEDGE - клиент должен вызвать метод acknowledge() интерфейса javax.jms.Message для того,
      чтобы явно сообщить о факте получения сообщения. При вызове этого метода будет отправлено сообщение,
      что получено данное и все отправленные до этого сообщения.
      
---------------------------------------------------------------------------------------------------

       Составные части сообщения (Message)
       
       1) Header - стандартная информация для идентификации и маршрутизации сообщений
       2) Properties - пары ключ/значение. Позволяет получателю фильтровать сообщения на основе этих значений
       3) Body - содержит сообщение, формат - текст, байты, обьект, и т.д.
       
---------------------------------------------------------------------------------------------------

       Формирование заголовка сообщения 
    
       Заголовок может содержать следующие параметры - 
 JMSDestination(тип String) - куда посылается сообщение
 JMSDeliveryMode(тип int) - 
      DeliveryMode.Persistent - доставляется один и только один раз
      DeliveryMode.NonPersistent - доставляется не более одного раза. Подразумевает возможность отсутствия доставки.
 JMSExpiration(тип long) - определяет, когда сообщение устареет и будет удалено из системы. 0 - будет жить вечно.
 JMSPriority(тип int) - приоритет сообщения от 0 до 9.
 JMSMessageId(тип String)
 JMSTimestamp(тип long) содержит информацию, когда именно Message orintired middleware было принято сообщение
 JMSCorelationId(тип String) может использоваться разработчиком для согласования сообщений - например номер заказа товара
 JMSReplayTo(тип Destination) - может испо. для того, чтобы customer знал, кому при желании посылать ответ
 JMSType(тип String) - может испо. чтобы дать информацию типа aplication cpecified type.
 JMSRedelivered(тип Boolean) - означает, что сообщение было доставлено получателю, но он не подтвердил прием сообщения
 
       
-----------------------------------------------------------
	
	Задача 1 

	Написать тест, который будет отправлять сообщения в брокер 
	и принимать в разных режимах как сессий (AUTO_ACK, TRANSACTED, etc.),  
	так и сообщений (персистентные и неперсистентные).  

	Оформить итоговый файл с результатами записи и чтения в каждом режиме.  
	Объяснить полученные результаты.  
	
	Предполагаемое время решения 6-10 часов.
	
	----------------------------
		Решение.
	
	Рассматриваем следующие случаи - 
		Неперсистентные 
			Session.SESSION_TRANSACTED  - 31 nanosec (session.commite() required!)
			Session.AUTO_ACKNOWLEDGE    - 16 nanosec 
			Session.DUPS_OK_ACKNOWLEDGE - 16 nanosec 
			Session.CLIENT_ACKNOWLEDGE  - 31 nanosec (message.acknowledge(); required!)
	
		Персистентные 
			Session.SESSION_TRANSACTED  - 78 nanosec (session.commite() and kahaDb required!) 
			Session.AUTO_ACKNOWLEDGE    - 50 nanosec
			Session.DUPS_OK_ACKNOWLEDGE - 47 nanosec 
			Session.CLIENT_ACKNOWLEDGE  - 94 nanosec (message.acknowledge() and kahaDb required!)
	
    -----------------------------------------------------------	
	
2018-09-07 16:11:38:110 INFO  Main:20 - Start application jmstest ..............
2018-09-07 16:11:38:110 INFO  Main:21 - MODE = Session.SESSION_TRANSACTED
2018-09-07 16:11:38:110 INFO  Main:24 - Success create sender object........
2018-09-07 16:11:38:110 INFO  Main:27 - Success create receiver object ........
2018-09-07 16:11:38:157 INFO  BrokerService:683 - Using Persistence Adapter: MemoryPersistenceAdapter
2018-09-07 16:11:38:314 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57121-1536325898173-0:1) is starting
2018-09-07 16:11:38:314 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:11:38:314 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:11:38:329 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57121-1536325898173-0:1) started
2018-09-07 16:11:38:329 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:11:38:345 INFO  Main:35 - Success start BrokerService ........
2018-09-07 16:11:38:439 INFO  FailoverTransport:1052 - Successfully connected to tcp://localhost:61616
2018-09-07 16:11:38:501 INFO  Sender:38 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:11:38:532 INFO  Receiver:37 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:11:38:532 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57121-1536325898173-0:1) is shutting down
2018-09-07 16:11:38:532 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:11:38:548 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57121-1536325898173-0:1) uptime 0.406 seconds
2018-09-07 16:11:38:548 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57121-1536325898173-0:1) is shutdown
2018-09-07 16:11:38:548 INFO  Main:39 - Success stop BrokerService ........

	-----------------------------------------------------------
	
2018-09-07 16:18:29:950 INFO  Main:22 - Start application jmstest ..............
2018-09-07 16:18:29:950 INFO  Main:23 - MODE = Session.AUTO_ACKNOWLEDGE
2018-09-07 16:18:29:950 INFO  Main:26 - Success create sender object........
2018-09-07 16:18:29:950 INFO  Main:29 - Success create receiver object ........
2018-09-07 16:18:29:997 INFO  BrokerService:683 - Using Persistence Adapter: MemoryPersistenceAdapter
2018-09-07 16:18:30:138 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57188-1536326310013-0:1) is starting
2018-09-07 16:18:30:138 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:18:30:138 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:18:30:138 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57188-1536326310013-0:1) started
2018-09-07 16:18:30:138 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:18:30:153 INFO  Main:37 - Success start BrokerService ........
2018-09-07 16:18:30:309 INFO  Sender:41 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:18:30:325 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:18:30:341 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57188-1536326310013-0:1) is shutting down
2018-09-07 16:18:30:341 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:18:30:341 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57188-1536326310013-0:1) uptime 0.344 seconds
2018-09-07 16:18:30:341 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57188-1536326310013-0:1) is shutdown
2018-09-07 16:18:30:341 INFO  Main:41 - Success stop BrokerService ........	

	-----------------------------------------------------------
	
2018-09-07 16:20:27:278 INFO  Main:23 - Start application jmstest ..............
2018-09-07 16:20:27:278 INFO  Main:24 - MODE = Session.AUTO_ACKNOWLEDGE
2018-09-07 16:20:27:278 INFO  Main:27 - Success create sender object........
2018-09-07 16:20:27:278 INFO  Main:30 - Success create receiver object ........
2018-09-07 16:20:27:325 INFO  BrokerService:683 - Using Persistence Adapter: MemoryPersistenceAdapter
2018-09-07 16:20:27:465 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57218-1536326427340-0:1) is starting
2018-09-07 16:20:27:465 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:20:27:465 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:20:27:465 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57218-1536326427340-0:1) started
2018-09-07 16:20:27:465 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:20:27:497 INFO  Main:38 - Success start BrokerService ........
2018-09-07 16:20:27:668 INFO  Sender:41 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:20:27:684 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:20:27:684 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57218-1536326427340-0:1) is shutting down
2018-09-07 16:20:27:684 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:20:27:700 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57218-1536326427340-0:1) uptime 0.375 seconds
2018-09-07 16:20:27:700 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57218-1536326427340-0:1) is shutdown
2018-09-07 16:20:27:700 INFO  Main:42 - Success stop BrokerService ........	

	-----------------------------------------------------------
	
2018-09-07 16:22:38:992 INFO  Main:23 - Start application jmstest ..............
2018-09-07 16:22:39:008 INFO  Main:24 - MODE = Session.AUTO_ACKNOWLEDGE
2018-09-07 16:22:39:008 INFO  Main:27 - Success create sender object........
2018-09-07 16:22:39:008 INFO  Main:30 - Success create receiver object ........
2018-09-07 16:22:39:039 INFO  BrokerService:683 - Using Persistence Adapter: MemoryPersistenceAdapter
2018-09-07 16:22:39:180 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57287-1536326559055-0:1) is starting
2018-09-07 16:22:39:180 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:22:39:180 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:22:39:196 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57287-1536326559055-0:1) started
2018-09-07 16:22:39:196 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:22:39:211 INFO  Main:38 - Success start BrokerService ........
2018-09-07 16:22:39:352 INFO  Sender:41 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:22:39:383 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:22:39:383 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57287-1536326559055-0:1) is shutting down
2018-09-07 16:22:39:383 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:22:39:383 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57287-1536326559055-0:1) uptime 0.344 seconds
2018-09-07 16:22:39:383 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57287-1536326559055-0:1) is shutdown
2018-09-07 16:22:39:383 INFO  Main:42 - Success stop BrokerService ........	

	-----------------------------------------------------------
	----    USE Persistence  (need KAHA DB in pom.xml)  -------
	-----------------------------------------------------------
	
2018-09-07 16:42:07:739 INFO  Main:23 - Start application jmstest ..............
2018-09-07 16:42:07:739 INFO  Main:24 - MODE = Session.SESSION_TRANSACTED
2018-09-07 16:42:07:739 INFO  Main:27 - Success create sender object........
2018-09-07 16:42:07:739 INFO  Main:30 - Success create receiver object ........
true
2018-09-07 16:42:07:833 INFO  BrokerService:683 - Using Persistence Adapter: KahaDBPersistenceAdapter[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\KahaDB]
2018-09-07 16:42:07:989 INFO  MessageDatabase:191 - KahaDB is version 6
2018-09-07 16:42:08:051 INFO  PListStoreImpl:371 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] started
2018-09-07 16:42:08:239 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57635-1536327728067-0:1) is starting
2018-09-07 16:42:08:270 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:42:08:270 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:42:08:270 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57635-1536327728067-0:1) started
2018-09-07 16:42:08:270 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:42:08:270 INFO  Main:39 - Success start BrokerService ........
2018-09-07 16:42:08:348 INFO  Sender:40 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:42:08:426 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:42:08:551 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57635-1536327728067-0:1) is shutting down
2018-09-07 16:42:08:551 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:42:08:567 INFO  PListStoreImpl:396 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] stopped
2018-09-07 16:42:08:567 INFO  KahaDBStore:264 - Stopping async queue tasks
2018-09-07 16:42:08:567 INFO  KahaDBStore:278 - Stopping async topic tasks
2018-09-07 16:42:08:567 INFO  KahaDBStore:306 - Stopped KahaDB
2018-09-07 16:42:08:786 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57635-1536327728067-0:1) uptime 1.000 seconds
2018-09-07 16:42:08:786 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57635-1536327728067-0:1) is shutdown
2018-09-07 16:42:08:786 INFO  Main:43 - Success stop BrokerService ........	

	-----------------------------------------------------------
	
	2018-09-07 16:44:50:207 INFO  Main:23 - Start application jmstest ..............
2018-09-07 16:44:50:207 INFO  Main:24 - MODE = Session.AUTO_ACKNOWLEDGE
2018-09-07 16:44:50:207 INFO  Main:27 - Success create sender object........
2018-09-07 16:44:50:207 INFO  Main:30 - Success create receiver object ........
true
2018-09-07 16:44:50:316 INFO  BrokerService:683 - Using Persistence Adapter: KahaDBPersistenceAdapter[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\KahaDB]
2018-09-07 16:44:50:426 INFO  MessageDatabase:191 - KahaDB is version 6
2018-09-07 16:44:50:488 INFO  PListStoreImpl:371 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] started
2018-09-07 16:44:50:629 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57665-1536327890504-0:1) is starting
2018-09-07 16:44:50:660 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:44:50:660 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:44:50:676 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57665-1536327890504-0:1) started
2018-09-07 16:44:50:676 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:44:50:676 INFO  Main:39 - Success start BrokerService ........
2018-09-07 16:44:50:754 INFO  Sender:40 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:44:50:816 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:44:50:832 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57665-1536327890504-0:1) is shutting down
2018-09-07 16:44:50:832 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:44:50:832 INFO  PListStoreImpl:396 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] stopped
2018-09-07 16:44:50:832 INFO  KahaDBStore:264 - Stopping async queue tasks
2018-09-07 16:44:50:832 INFO  KahaDBStore:278 - Stopping async topic tasks
2018-09-07 16:44:50:832 INFO  KahaDBStore:306 - Stopped KahaDB
2018-09-07 16:44:50:957 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57665-1536327890504-0:1) uptime 0.719 seconds
2018-09-07 16:44:50:957 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57665-1536327890504-0:1) is shutdown
2018-09-07 16:44:50:957 INFO  Main:43 - Success stop BrokerService ........

	-----------------------------------------------------------
	
2018-09-07 16:47:12:964 INFO  Main:23 - Start application jmstest ..............
2018-09-07 16:47:12:979 INFO  Main:24 - MODE = DUPS_OK_ACKNOWLEDGE
2018-09-07 16:47:12:979 INFO  Main:27 - Success create sender object........
2018-09-07 16:47:12:979 INFO  Main:30 - Success create receiver object ........
true
2018-09-07 16:47:13:057 INFO  BrokerService:683 - Using Persistence Adapter: KahaDBPersistenceAdapter[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\KahaDB]
2018-09-07 16:47:13:182 INFO  MessageDatabase:191 - KahaDB is version 6
2018-09-07 16:47:13:260 INFO  PListStoreImpl:371 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] started
2018-09-07 16:47:13:401 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57687-1536328033260-0:1) is starting
2018-09-07 16:47:13:432 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:47:13:432 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:47:13:432 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57687-1536328033260-0:1) started
2018-09-07 16:47:13:432 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:47:13:448 INFO  Main:39 - Success start BrokerService ........
2018-09-07 16:47:13:542 INFO  Sender:40 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:47:13:589 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:47:13:620 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57687-1536328033260-0:1) is shutting down
2018-09-07 16:47:13:620 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:47:13:620 INFO  PListStoreImpl:396 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] stopped
2018-09-07 16:47:13:620 INFO  KahaDBStore:264 - Stopping async queue tasks
2018-09-07 16:47:13:620 INFO  KahaDBStore:278 - Stopping async topic tasks
2018-09-07 16:47:13:620 INFO  KahaDBStore:306 - Stopped KahaDB
2018-09-07 16:47:13:760 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57687-1536328033260-0:1) uptime 0.750 seconds
2018-09-07 16:47:13:760 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57687-1536328033260-0:1) is shutdown
2018-09-07 16:47:13:760 INFO  Main:43 - Success stop BrokerService ........	
	
	-----------------------------------------------------------
	
2018-09-07 16:49:34:286 INFO  Main:24 - Start application jmstest ..............
2018-09-07 16:49:34:286 INFO  Main:25 - MODE = CLIENT_ACKNOWLEDGE
2018-09-07 16:49:34:286 INFO  Main:28 - Success create sender object........
2018-09-07 16:49:34:286 INFO  Main:31 - Success create receiver object ........
true
2018-09-07 16:49:34:380 INFO  BrokerService:683 - Using Persistence Adapter: KahaDBPersistenceAdapter[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\KahaDB]
2018-09-07 16:49:34:521 INFO  MessageDatabase:191 - KahaDB is version 6
2018-09-07 16:49:34:583 INFO  PListStoreImpl:371 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] started
2018-09-07 16:49:34:724 INFO  BrokerService:746 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57710-1536328174599-0:1) is starting
2018-09-07 16:49:34:755 INFO  TransportServerThreadSupport:69 - Listening for connections at: tcp://127.0.0.1:61616
2018-09-07 16:49:34:755 INFO  TransportConnector:263 - Connector tcp://127.0.0.1:61616 started
2018-09-07 16:49:34:755 INFO  BrokerService:773 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57710-1536328174599-0:1) started
2018-09-07 16:49:34:755 INFO  BrokerService:774 - For help or more information please see: http://activemq.apache.org
2018-09-07 16:49:34:771 INFO  Main:40 - Success start BrokerService ........
2018-09-07 16:49:34:849 INFO  Sender:40 - Message has been sent success. Message contains that - 'Message for send'
2018-09-07 16:49:34:943 INFO  Receiver:38 - Success received message. Message contains that - 'Message for send'
2018-09-07 16:49:34:990 INFO  BrokerService:836 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57710-1536328174599-0:1) is shutting down
2018-09-07 16:49:34:990 INFO  TransportConnector:294 - Connector tcp://127.0.0.1:61616 stopped
2018-09-07 16:49:34:990 INFO  PListStoreImpl:396 - PListStore:[E:\Projects\jmstest-origin\jmstest-master\activemq-data\localhost\tmp_storage] stopped
2018-09-07 16:49:34:990 INFO  KahaDBStore:264 - Stopping async queue tasks
2018-09-07 16:49:34:990 INFO  KahaDBStore:278 - Stopping async topic tasks
2018-09-07 16:49:34:990 INFO  KahaDBStore:306 - Stopped KahaDB
2018-09-07 16:49:35:146 INFO  BrokerService:896 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57710-1536328174599-0:1) uptime 0.828 seconds
2018-09-07 16:49:35:146 INFO  BrokerService:898 - Apache ActiveMQ 5.15.4 (localhost, ID:OFFICE14915-57710-1536328174599-0:1) is shutdown
2018-09-07 16:49:35:146 INFO  Main:44 - Success stop BrokerService ........	

	-----------------------------------------------------------
